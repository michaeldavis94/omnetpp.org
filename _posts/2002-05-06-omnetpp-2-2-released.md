---
layout: post
title: OMNeT++ 2.2 released
joomla_id: 3606
joomla_url: "-sp-1549311137"
date: 2002-05-06 22:22:25.000000000 +02:00
author: Andras
excerpt: With experimental message subclassing, test suite, bugfixes and more...
category: Software
---
With experimental message subclassing, test suite, bugfixes and more... <FONT face="courier new, courier, mono"><BR>In the OMNeT++ 2.2 release (May 2002)<BR>-------------------------------------<BR>It's almost a year since the last, 2.1 release, and that's why this change<BR>list tends to be a bit lengthy. Sorry about that.<BR>For this release I got many more bugfixes, bug reports and suggestions than<BR>for any previous one. Thanks to everybody who helped! Huge credit goes to<BR>Ulrich Kaage in Karlsruhe who built up a server infrastructure (CVS,<BR>bugtracker, Wiki, etc.) and was restless in testing and improving OMNeT++.<BR>Thanks Uli! This is the first release since the CVS went online last year.<BR>This release contains experimental support for the long-demanded feature known<BR>as 'message subclassing'. This means that C++ message classes can be generated<BR>from NED code, replacing the practice of dynamically adding cPar objects to<BR>messages. Data fields added via the subclassing mechanism are inspectable in<BR>Tkenv. The new NED syntax is experimental; the compiler extensions have been<BR>temporarily implemented in Perl. The new Dyna2 sample simulation demonstrates<BR>this feature. See doc/msgsubclassing.txt for more information.<BR>The simulation kernel now has an indexed and hyperlinked on-line API reference,<BR>generated from header file comments. (We're using Doxygen.) At the same time,<BR>the Reference chapter in the manual was deleted.<BR>Distributed simulation can now use the MPI library which is more readily<BR>available nowadays than PVM. (Code contributed by Eric Wu).<BR>The simulation kernel was made const-correct; because of this, older code<BR>may need changes (especially where one didn't use the Module_Class_Members()<BR>macro to define module classes.) There were other changes on the simulation<BR>kernel to make it cleaner.<BR>cGate::setDisplayString() was fixed: changes are now immediately reflected<BR>in the Tkenv graphics as they should. cModule's display string methods were<BR>reorganized: the displayString(int type) method was split into displayString()<BR>and displayStringAsParent(), eliminating the type parameter. Similar change<BR>was made to the set...() methods. (Old methods remained but are now<BR>deprecated.)&nbsp; All setDisplayString() methods are now compatible with<BR>auto-layouted modules (randomly placed modules won't jump around in Tkenv<BR>after each display update).<BR>New methods: opp_nextrand(long&amp; seed); opp_strlen(..); opp_strprettytrunc(..);<BR>opp_mkindexedname(..) (the latter was formerly called indexedname()).<BR>fullName() no longer uses a static buffer; with fullPath(), it is possible<BR>to avoid static buffers by using the new fullPath(buffer,buflen) method.<BR>In NED, an expression may now refer to a submodule parameter with the following<BR>syntax: submod.par or submod[index].par. A limitation is that the index<BR>might not be an expression itself.<BR>Foundations of a simulation kernel regression test suite have been laid<BR>down. The test/ subdirectory contains a few initial test cases that rely<BR>on the new opp_test tool. The test tool can be very well used to build<BR>model tests, too. Also, as tests tend to be compact and easy to write, the<BR>test tool is also excellent for experimenting with OMNeT++ library classes.<BR>See doc/opp_test.txt for details.<BR>The Envir library has been extended with a plugin mechanism: one can now<BR>plug in code that actually handles recording output vectors (e.g. one can<BR>write them to database instead of files, apply filtering before writing<BR>them out, or send them to a simulation controller app) without having<BR>to modify the user interface library, the simulation kernel or existing models.<BR>Similar mechanisms exist for output scalars and snapshots. The new<BR>include/envirext.h header contains the interfaces the plugins have to<BR>conform to: cOutputVectorManager, cOutputScalarManager, cSnapshotManager.<BR>Tkenv's plugin handling was improved: plugins are searched in the directories<BR>in OMNETPP_PLUGIN_PATH (set to ./plugins by default). DLL file names that are<BR>looked for now correctly depend on the platform (*.dll on windows, .so* on<BR>Unix).<BR>For the default output vector mechanism (vec files), number precision was<BR>increased to 9 digits (fprintf format changed).<BR>The module parameter change logging feature is no longer supported.<BR>Size limitations on omnetpp.ini were removed (only max line length=1024 chars<BR>remained).<BR>ChangeLogs are now GNU-style, with the most recent entries at the top.<BR>Exit codes of simulation programs were made more natural: 0 if the simulation<BR>terminated normally, 1 otherwise. Also, SIGTERM and SIGINT signals are now<BR>handled more gracefully: they call finish() before terminating the simulation<BR>(Unix only).<BR>In GNED, regexp find/replace now understands the 1,2,... notation in replace<BR>strings. Backwards search was implemented in the Find/Replace dialogs of GNED<BR>and Tkenv. Fixed Plove's problems with tabs/spaces in vector files and<BR>slashes/backslashes on Windows, and also GNED's problems with command-line<BR>arguments.<BR>The makefiles now use a new Perl-based dependency generator which works on all<BR>platforms. opp_makemake: added -L option, and removed Makefile.in from the<BR>'depend' target.</FONT>
